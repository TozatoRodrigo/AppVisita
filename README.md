# üè• AppVisita - Sistema de Gest√£o M√©dica

<div align="center">

![AppVisita Logo](https://img.shields.io/badge/AppVisita-Sistema%20M√©dico-blue?style=for-the-badge&logo=medical)

**Sistema completo de gest√£o de pacientes e evolu√ß√µes m√©dicas**

[![Firebase](https://img.shields.io/badge/Firebase-FFCA28?style=flat&logo=firebase&logoColor=black)](https://firebase.google.com/)
[![JavaScript](https://img.shields.io/badge/JavaScript-F7DF1E?style=flat&logo=javascript&logoColor=black)](https://developer.mozilla.org/en-US/docs/Web/JavaScript)
[![HTML5](https://img.shields.io/badge/HTML5-E34F26?style=flat&logo=html5&logoColor=white)](https://developer.mozilla.org/en-US/docs/Web/HTML)
[![CSS3](https://img.shields.io/badge/CSS3-1572B6?style=flat&logo=css3&logoColor=white)](https://developer.mozilla.org/en-US/docs/Web/CSS)

</div>

## üìã Sobre o Projeto

O **AppVisita** √© um sistema web desenvolvido para facilitar o gerenciamento de pacientes em ambientes hospitalares. O sistema permite que m√©dicos e equipes m√©dicas registrem evolu√ß√µes de pacientes, anexem imagens de exames, e mantenham um hist√≥rico completo de atendimentos.

### ‚ú® Principais Funcionalidades

- üîê **Autentica√ß√£o segura** via Firebase Authentication
- üë• **Gest√£o de equipes m√©dicas** e usu√°rios
- üè• **Cadastro e gerenciamento de pacientes**
- üìù **Registro de evolu√ß√µes m√©dicas** com hist√≥rico completo
- üì∏ **Sistema completo de upload de imagens** com drag & drop
- üñºÔ∏è **Visualizador profissional de imagens** com navega√ß√£o por teclado
- üîç **Sistema de busca** avan√ßado de pacientes com sugest√µes em tempo real
- üö´ **Valida√ß√£o rigorosa de reinterna√ß√£o** (apenas pacientes com alta hospitalar)
- üí¨ **Sistema de alertas visuais** com anima√ß√µes e feedback contextual
- üìä **Dashboard administrativo** com estat√≠sticas
- üì± **Interface responsiva** para desktop e mobile
- üè• **Status do paciente** (Internado, Alta, √ìbito) com regras de neg√≥cio

## üì∏ Sistema de Imagens M√©dicas

### üöÄ Upload Avan√ßado
- **Upload m√∫ltiplo**: At√© 10 imagens por evolu√ß√£o
- **Drag & Drop**: Interface intuitiva para arrastar arquivos
- **Preview instant√¢neo**: Visualiza√ß√£o antes do upload
- **Compress√£o autom√°tica**: Otimiza√ß√£o sem perda de qualidade
- **Valida√ß√£o rigorosa**: Tipos permitidos (JPEG, PNG, WebP)
- **Limite de tamanho**: M√°ximo 5MB por arquivo
- **Barra de progresso**: Feedback visual em tempo real
- **Remo√ß√£o individual**: Gerenciar imagens antes do envio

### üñºÔ∏è Visualiza√ß√£o Profissional
- **Modal em tela cheia**: Visualiza√ß√£o ampliada das imagens
- **Navega√ß√£o por setas**: Percorrer m√∫ltiplas imagens facilmente
- **Controles de teclado**: ESC para fechar, setas para navegar
- **Contador de posi√ß√£o**: Indicador "1/3", "2/3", etc.
- **Design responsivo**: Adaptado para mobile e desktop
- **Fundo escuro**: Melhor contraste para visualiza√ß√£o m√©dica
- **Cria√ß√£o din√¢mica**: Modal criado via JavaScript para m√°xima compatibilidade

### üîí Seguran√ßa e Performance
- **URLs seguros**: Links tempor√°rios via Firebase Storage
- **Isolamento por paciente**: Organiza√ß√£o segura no Storage
- **Metadados completos**: Nome, tamanho, data de upload
- **IDs √∫nicos**: Identifica√ß√£o exclusiva por evolu√ß√£o
- **Carregamento lazy**: Otimiza√ß√£o para hist√≥rico extenso
- **Error handling**: Tratamento robusto de falhas

## üìä Product Management

### üéØ Estrat√©gia de Produto

O AppVisita segue uma estrat√©gia de crescimento estruturada com foco no mercado brasileiro de gest√£o m√©dica hospitalar, utilizando metodologia MoSCoW para prioriza√ß√£o de funcionalidades.

**Documenta√ß√£o Estrat√©gica**:
- üìã **[Product Backlog](docs/PRODUCT_BACKLOG.md)** - Roadmap completo 2025-2027
- üìä **[Product Strategy](docs/PRODUCT_STRATEGY.md)** - An√°lise de mercado e positioning
- üíº **[Executive Summary](docs/EXECUTIVE_SUMMARY.md)** - Resumo executivo para investidores

### üöÄ Roadmap de Alto N√≠vel

#### 2025 Q1-Q2: Consolida√ß√£o
- ‚úÖ Sistema de notifica√ß√µes em tempo real
- ‚úÖ Relat√≥rios e dashboards avan√ßados
- üîÑ App mobile nativo (iOS/Android)
- ‚úÖ Sistema de backup e auditoria

#### 2025 Q3-Q4: Expans√£o
- üîÑ API REST completa
- üîÑ Sistema de telemedicina
- üîÑ Multi-tenancy para grandes redes
- üîÑ IA para sugest√µes cl√≠nicas

#### 2026-2027: Inova√ß√£o
- üîÑ Plataforma de ecosystem m√©dico
- üîÑ IA avan√ßada e machine learning
- üîÑ Realidade aumentada para medicina
- üîÑ Interoperabilidade total (FHIR)

### üí∞ Market Opportunity

- **TAM**: US$ 31.5B (Mercado global EMR)
- **SAM**: R$ 540M (4.500 hospitais privados Brasil)
- **SOM**: R$ 27M (Meta 5% market share em 3 anos)

### üìà M√©tricas de Neg√≥cio

- **North Star Metric**: Reduzir tempo de documenta√ß√£o de 15 para 5 minutos
- **ARR Target 2027**: R$ 35M
- **Market Share Target**: 10% (Brasil)
- **Customer LTV/CAC**: >5:1

## üöÄ Demonstra√ß√£o

### Interface Principal
- **Dashboard**: Vis√£o geral dos pacientes internados
- **Adicionar Paciente**: Formul√°rio completo com associa√ß√£o de equipes
- **Evolu√ß√£o**: Modal com editor de texto e upload de imagens
- **Consulta**: Sistema de busca por nome ou ID de interna√ß√£o

### Funcionalidades Avan√ßadas
- **Upload de Imagens**: Redimensionamento autom√°tico e otimiza√ß√£o
- **Visualiza√ß√£o**: Galeria com modal de visualiza√ß√£o ampliada
- **Equipes M√©dicas**: Gest√£o completa com associa√ß√£o de m√©dicos
- **Hist√≥rico**: Timeline completa de evolu√ß√µes com filtros

## üõ†Ô∏è Tecnologias Utilizadas

### Frontend
- **HTML5**: Estrutura sem√¢ntica e acess√≠vel
- **CSS3**: Design responsivo com Grid e Flexbox
- **JavaScript ES6+**: Funcionalidades modernas e m√≥dulos
- **Firebase SDK**: Integra√ß√£o completa com servi√ßos Google

### Backend (Firebase)
- **Authentication**: Gest√£o de usu√°rios e permiss√µes
- **Firestore**: Banco de dados NoSQL em tempo real
- **Storage**: Armazenamento seguro de imagens
- **Hosting**: Deploy e CDN global

### Arquitetura
- **Modular**: C√≥digo organizado em m√≥dulos independentes
- **Responsiva**: Interface adapt√°vel a qualquer dispositivo
- **Real-time**: Sincroniza√ß√£o autom√°tica de dados
- **Offline-ready**: Funcionalidade b√°sica offline

## üì¶ Instala√ß√£o e Configura√ß√£o

### Pr√©-requisitos
- Navegador web moderno (Chrome, Firefox, Safari, Edge)
- Servidor web local (Python, Node.js, Live Server, etc.)
- Projeto Firebase configurado

### üîß Configura√ß√£o do Firebase

1. **Criar projeto no Firebase Console**:
   ```
   https://console.firebase.google.com/
   ```

2. **Ativar servi√ßos necess√°rios**:
   - Authentication (Email/Password)
   - Firestore Database
   - Storage

3. **Configurar regras de seguran√ßa**:
   ```javascript
   // Firestore Rules
   rules_version = '2';
   service cloud.firestore {
     match /databases/{database}/documents {
       match /{document=**} {
         allow read, write: if request.auth != null;
       }
     }
   }
   
   // Storage Rules
   rules_version = '2';
   service firebase.storage {
     match /b/{bucket}/o {
       match /{allPaths=**} {
         allow read, write: if request.auth != null;
       }
     }
   }
   ```

4. **Obter configura√ß√£o do projeto**:
   - Acesse Project Settings ‚Üí General
   - Role at√© "Your apps" ‚Üí "Web apps"
   - Copie o objeto `firebaseConfig`

5. **Configurar no c√≥digo**:
   Edite os arquivos `script.js` e `script-otimizado.js`:
   ```javascript
   const firebaseConfig = {
     apiKey: "sua-api-key",
     authDomain: "seu-projeto.firebaseapp.com",
     projectId: "seu-projeto",
     storageBucket: "seu-projeto.appspot.com",
     messagingSenderId: "123456789",
     appId: "1:123456789:web:abc123def456"
   };
   ```

### üöÄ Execu√ß√£o Local

1. **Clone o reposit√≥rio**:
   ```bash
   git clone https://github.com/seu-usuario/AppVisita.git
   cd AppVisita
   ```

2. **Inicie um servidor local**:
   
   **Op√ß√£o A - Python**:
   ```bash
   python3 -m http.server 8000
   ```
   
   **Op√ß√£o B - Node.js**:
   ```bash
   npx http-server -p 8000
   ```
   
   **Op√ß√£o C - PHP**:
   ```bash
   php -S localhost:8000
   ```

3. **Acesse no navegador**:
   ```
   http://localhost:8000
   ```

### üë§ Primeiro Acesso

1. **Criar conta de administrador**:
   - Use o email configurado em `ADMIN_EMAIL`
   - Fa√ßa o primeiro login
   - O sistema criar√° automaticamente os privil√©gios de admin

2. **Criar equipe m√©dica**:
   - Acesse "Administra√ß√£o" ‚Üí "Equipes M√©dicas"
   - Clique em "Nova Equipe"
   - Adicione m√©dicos √† equipe

3. **Aprovar usu√°rios**:
   - Acesse "Administra√ß√£o" ‚Üí "Usu√°rios"
   - Aprove m√©dicos pendentes

## üì± Como Usar

### Para Administradores

1. **Gest√£o de Usu√°rios**:
   - Aprovar/rejeitar novos m√©dicos
   - Visualizar estat√≠sticas de uso
   - Gerenciar permiss√µes

2. **Gest√£o de Equipes**:
   - Criar equipes m√©dicas
   - Associar m√©dicos √†s equipes
   - Editar/excluir equipes

### Para M√©dicos

1. **Adicionar Paciente**:
   - Preencher dados completos
   - Associar √† equipe m√©dica
   - Sistema detecta reinterna√ß√µes automaticamente

2. **Registrar Evolu√ß√£o Completa**:
   - **Texto da evolu√ß√£o**: Descrever quadro cl√≠nico
   - **Status do paciente**: Internado / Alta Hospitalar / √ìbito
   - **Anexar imagens**: Upload m√∫ltiplo com drag & drop
   - **Preview**: Visualizar imagens antes de salvar
   - **Remo√ß√£o**: Excluir imagens espec√≠ficas se necess√°rio

3. **Visualizar Perfil Completo do Paciente** üÜï:
   - **Clique no nome**: Acesso direto aos dados completos
   - **Dados cadastrais**: Nome, CPF, idade calculada automaticamente
   - **Hist√≥rico completo**: Timeline de todas as evolu√ß√µes
   - **Estat√≠sticas inteligentes**: Dias internado, total de evolu√ß√µes, imagens anexadas
   - **Navega√ß√£o r√°pida**: Bot√£o para registrar nova evolu√ß√£o diretamente do perfil

4. **Upload de Imagens**:
   - **Arrastar e soltar**: Simplesmente arraste arquivos para a √°rea
   - **Clique para selecionar**: Bot√£o tradicional de sele√ß√£o
   - **M√∫ltiplas imagens**: At√© 10 imagens por evolu√ß√£o
   - **Formatos suportados**: JPEG, PNG, WebP (m√°x. 5MB cada)
   - **Compress√£o autom√°tica**: Sistema otimiza automaticamente

5. **Visualizar Hist√≥rico**:
   - **Buscar por nome ou ID**: Sistema de busca inteligente
   - **Timeline completa**: Hist√≥rico cronol√≥gico de evolu√ß√µes
   - **Galeria de imagens**: Miniaturas clic√°veis no hist√≥rico
   - **Visualiza√ß√£o ampliada**: Modal profissional para imagens
   - **Navega√ß√£o**: Use setas do teclado ou bot√µes na tela

6. **Navega√ß√£o nas Imagens**:
   - **Clique na miniatura**: Abre visualiza√ß√£o em tamanho grande
   - **Teclas de atalho**: 
     - `ESC` para fechar
     - `‚Üê` seta esquerda para imagem anterior
     - `‚Üí` seta direita para pr√≥xima imagem
   - **Bot√µes visuais**: Setas na tela para navega√ß√£o
   - **Contador**: Indica√ß√£o da posi√ß√£o atual (ex: "2/5")

## üèóÔ∏è Estrutura do Projeto

```
AppVisita/
‚îú‚îÄ‚îÄ index.html                 # P√°gina principal
‚îú‚îÄ‚îÄ style.css                  # Estilos principais
‚îú‚îÄ‚îÄ estilos-admin.css          # Estilos administrativos
‚îú‚îÄ‚îÄ script.js                  # Script principal (completo)
‚îú‚îÄ‚îÄ script-otimizado.js        # Script otimizado (API)
‚îú‚îÄ‚îÄ app-modulos.js             # M√≥dulos base
‚îú‚îÄ‚îÄ app-login.js               # M√≥dulo de autentica√ß√£o
‚îú‚îÄ‚îÄ app-pacientes.js           # M√≥dulo de pacientes
‚îú‚îÄ‚îÄ app-admin.js               # M√≥dulo administrativo
‚îú‚îÄ‚îÄ app-equipes.js             # M√≥dulo de equipes
‚îú‚îÄ‚îÄ app-ui.js                  # M√≥dulo de interface
‚îú‚îÄ‚îÄ app-diagnostico.js         # M√≥dulo de diagn√≥stico
‚îú‚îÄ‚îÄ CHANGELOG.md               # Hist√≥rico de mudan√ßas
‚îú‚îÄ‚îÄ TESTE_EQUIPES.md           # Guia de testes
‚îú‚îÄ‚îÄ README.md                  # Este arquivo
‚îî‚îÄ‚îÄ docs/                      # Documenta√ß√£o completa
    ‚îú‚îÄ‚îÄ PRODUCT_BACKLOG.md     # Roadmap de produto
    ‚îú‚îÄ‚îÄ PRODUCT_STRATEGY.md    # Estrat√©gia de mercado
    ‚îú‚îÄ‚îÄ EXECUTIVE_SUMMARY.md   # Resumo executivo
    ‚îú‚îÄ‚îÄ USER_MANUAL.md         # Manual do usu√°rio
    ‚îú‚îÄ‚îÄ ARCHITECTURE.md        # Documenta√ß√£o t√©cnica
    ‚îî‚îÄ‚îÄ features/              # Especifica√ß√µes de funcionalidades
```

### üìÇ Organiza√ß√£o dos M√≥dulos

- **`app-modulos.js`**: Funcionalidades base e utilit√°rios
- **`app-login.js`**: Autentica√ß√£o e gest√£o de sess√£o
- **`app-pacientes.js`**: CRUD de pacientes e evolu√ß√µes
- **`app-admin.js`**: Funcionalidades administrativas
- **`app-equipes.js`**: Gest√£o de equipes m√©dicas
- **`app-ui.js`**: Componentes de interface
- **`app-diagnostico.js`**: Sistema de diagn√≥stico e logs

## üîí Seguran√ßa

### Autentica√ß√£o
- Login obrigat√≥rio para acesso
- Senhas criptografadas pelo Firebase
- Sess√µes seguras com tokens JWT

### Autoriza√ß√£o
- N√≠veis de acesso (Admin, M√©dico)
- M√©dicos s√≥ veem pacientes de suas equipes
- Admins t√™m acesso completo

### Dados
- Comunica√ß√£o HTTPS obrigat√≥ria
- Regras de seguran√ßa no Firestore
- Backup autom√°tico no Firebase

### Imagens
- Upload direto para Firebase Storage
- URLs seguras e tempor√°rias
- Redimensionamento autom√°tico

## üìä Monitoramento e Logs

### Sistema de Debug
- Logs detalhados com emoji üî•
- Console de desenvolvimento
- Diagn√≥stico autom√°tico de problemas

### M√©tricas
- Total de usu√°rios e pacientes
- Estat√≠sticas de evolu√ß√µes
- Volume de imagens armazenadas

## ü§ù Contribuindo

1. **Fork o projeto**
2. **Crie uma branch** para sua feature (`git checkout -b feature/AmazingFeature`)
3. **Commit suas mudan√ßas** (`git commit -m 'Add some AmazingFeature'`)
4. **Push para a branch** (`git push origin feature/AmazingFeature`)
5. **Abra um Pull Request**

### üìù Padr√µes de Commit
- `feat`: Nova funcionalidade
- `fix`: Corre√ß√£o de bug
- `docs`: Atualiza√ß√£o de documenta√ß√£o
- `style`: Mudan√ßas de formata√ß√£o
- `refactor`: Refatora√ß√£o de c√≥digo
- `test`: Adi√ß√£o de testes

## üìã Roadmap

### Vers√£o Atual (2.6.0)
- ‚úÖ Sistema base completo
- ‚úÖ Upload de imagens funcionando
- ‚úÖ Gest√£o de equipes operacional
- ‚úÖ Interface responsiva
- ‚úÖ **Visualiza√ß√£o completa de perfil do paciente** üÜï
- ‚úÖ Sistema de digita√ß√£o corrigido
- ‚úÖ Valida√ß√£o inteligente de reinterna√ß√£o

### Pr√≥ximas Vers√µes
- üîÑ **v2.7.0**: Exporta√ß√£o de relat√≥rios PDF
- üîÑ **v2.8.0**: Gr√°ficos de evolu√ß√£o temporal
- üîÑ **v2.9.0**: Sistema de notifica√ß√µes em tempo real
- üîÑ **v3.0.0**: Telemedicina e IA m√©dica

## üìÑ Licen√ßa

Este projeto est√° sob a licen√ßa MIT. Veja o arquivo [LICENSE](LICENSE) para mais detalhes.

## üë®‚Äçüíª Autor

**Rodrigo Dias Tozato**
- Email: rodrigo.tozato@icloud.com
- GitHub: [@rodrigodiastozato](https://github.com/rodrigodiastozato)

## üôè Agradecimentos

- [Firebase](https://firebase.google.com/) - Backend as a Service
- [Font Awesome](https://fontawesome.com/) - √çcones
- [Google Fonts](https://fonts.google.com/) - Tipografia
- Comunidade m√©dica que inspirou este projeto

---

<div align="center">

**‚≠ê Se este projeto foi √∫til para voc√™, considere dar uma estrela no reposit√≥rio!**

[üêõ Reportar Bug](https://github.com/rodrigodiastozato/AppVisita/issues) ‚Ä¢ [üí° Solicitar Feature](https://github.com/rodrigodiastozato/AppVisita/issues) ‚Ä¢ [üìñ Documenta√ß√£o](https://github.com/rodrigodiastozato/AppVisita/wiki)

</div>